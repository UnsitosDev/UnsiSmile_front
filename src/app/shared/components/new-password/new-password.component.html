<div class="overlay" [class.visible]="isVisible" [class.hidden]="!isVisible">
  <div class="modal">
    <h2>Actualización de Seguridad</h2>
    <p>Para garantizar la seguridad de tu cuenta, por favor actualiza tu contraseña utilizando los siguientes campos.</p>

    <form (ngSubmit)="onSubmit()" #passwordForm="ngForm">
      <div *ngIf="errorMessage" class="error-message">
        <i class="fas fa-exclamation-circle"></i>
        {{ errorMessage }}
      </div>

      <div class="form-group">
        <label for="currentPassword">
          <i class="fas fa-lock"></i>
          Contraseña Actual
        </label>
        <input 
          type="password" 
          id="currentPassword" 
          name="currentPassword" 
          [(ngModel)]="currentPassword"
          required
          placeholder="Ingresa tu contraseña actual"
        >
      </div>

      <div class="form-group">
        <label for="newPassword">
          <i class="fas fa-key"></i>
          Nueva Contraseña
        </label>
        <input 
          type="password" 
          id="newPassword" 
          name="newPassword" 
          [(ngModel)]="newPassword"
          required
          placeholder="Ingresa tu nueva contraseña"
        >
      </div>

      <div class="form-group">
        <label for="confirmPassword">
          <i class="fas fa-check-circle"></i>
          Confirmar Nueva Contraseña
        </label>
        <input 
          type="password" 
          id="confirmPassword" 
          name="confirmPassword" 
          [(ngModel)]="confirmPassword"
          required
          placeholder="Confirma tu nueva contraseña"
        >
      </div>

      <div class="buttons">
        <button type="submit" class="submit" [disabled]="!passwordForm.form.valid">
          <i class="fas fa-save"></i>
          Actualizar Contraseña
        </button>
      </div>
    </form>
  </div>
</div>

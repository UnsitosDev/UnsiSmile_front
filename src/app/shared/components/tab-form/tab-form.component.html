<!-- <mat-tab>
<div class="mx-8 pb-8">
    <form [formGroup]="formGroup">
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mt-6">
        @for (field of fields; track $index) {
            <app-field-component
            [field]="field"
            [formGroup]="formGroup"
            [errors]="field.errorMessages"
            [fieldValue]="getFieldValue(field.name)"
          >
          </app-field-component>
        }
        
      </div>
      <div class="button-container">
        <button (click)="previousTab()" type="button" mat-button matStepperNext>
          <i class="fas fa-long-arrow-alt-left"></i> ANTERIOR
        </button>
        <button type="button" (click)="onSubmit()" mat-button matStepperNext>
          SIGUIENTE <i class="fas fa-long-arrow-alt-right"></i>
        </button>
      </div>
    </form>
  </div>
</mat-tab> -->




  <mat-tab label="{{fieldsTab.title}}">
    <div class="mx-8 pb-8">
      <form [formGroup]="formGroup">
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-4 mt-6">
          <!-- Recorremos los campos usando *ngFor -->
          
            <span>{{fieldsTab.title}}</span>
              <!-- Verificamos si hay secciones -->
              @if (fieldsTab.seccion) {
                  <!-- Recorremos cada campo de la sección -->
                  @for (field of fieldsTab.seccion; track $index) {
                    <app-field-component
                    [field]="field"
                    [formGroup]="formGroup"
                    [errors]="field.errorMessages"
                  >
                  </app-field-component>
                  }  
              } 
              @if (fieldsTab.childFormSection) {
                  @for (childField of fieldsTab.childFormSection.seccion; track $index) {
                      <app-field-component
                        [field]="childField"
                        [formGroup]="formGroup"
                        [errors]="childField.errorMessages"
                      >
                      </app-field-component>
                  }          
              }
              <!-- Si hay subsección, también la renderizamos -->        
          
        </div>
        <div class="button-container">
          <button (click)="previousTab()" type="button" mat-button matStepperNext>
            <i class="fas fa-long-arrow-alt-left"></i> ANTERIOR 
          </button>
          <button type="button" (click)="onSubmit()" mat-button matStepperNext>
            SIGUIENTE <i class="fas fa-long-arrow-alt-right"></i>
          </button>
        </div>
      </form>
    </div>
  </mat-tab>



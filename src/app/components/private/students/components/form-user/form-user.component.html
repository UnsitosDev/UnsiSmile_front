<div class="profile-container">
  <!-- Sidebar con foto y nombre -->
  <div class="profile-sidebar">
    <div class="profile-photo">
      <img [src]="foto() || 'https://w7.pngwing.com/pngs/81/570/png-transparent-profile-logo-computer-icons-user-user-blue-heroes-logo-thumbnail.png'"
        alt="Foto de perfil">
    </div>
    <h2 class="profile-name">{{user.person.firstName}} {{user.person.firstLastName}}</h2>
    <p class="profile-role">Estudiante</p>
    <label class="btn btn-primary">
      Cambiar foto
      <input type="file" (change)="subirFoto($event)" accept="image/*" style="display: none;">
    </label>
  </div>

  <!-- Contenido principal -->
  <div class="profile-main">
    <ul class="tab-list">
      @for (tab of tabs; track tab; let i = $index) {
        <li>
          <a class="tab-link" [class.active]="i === activeTab()" (click)="setActiveTab(i)">
            {{ tab }}
          </a>
        </li>
      }
    </ul>

    <div class="tab-content">
      @switch (activeTab()) {
        @case (0) {
          <!-- Overview -->
          <div class="overview-section">
            <div class="overview-grid">
              <div class="overview-card">
                <div class="overview-icon">
                  <i class="fas fa-user"></i>
                </div>
                <div class="overview-info">
                  <h3>Información Personal</h3>
                  <p><strong>Nombre:</strong> {{user.person.firstName}} {{user.person.firstLastName}}</p>
                  <p><strong>Email:</strong> {{user.person.email}}</p>
                  <p><strong>Teléfono:</strong> {{user.person.phone}}</p>
                </div>
              </div>

              <div class="overview-card">
                <div class="overview-icon">
                  <i class="fas fa-calendar"></i>
                </div>
                <div class="overview-info">
                  <h3>Actividad Reciente</h3>
                  <p>Último inicio de sesión: Hoy</p>
                  <p>Última actualización: Hace 2 días</p>
                </div>
              </div>

              <div class="overview-card">
                <div class="overview-icon">
                  <i class="fas fa-bell"></i>
                </div>
                <div class="overview-info">
                  <h3>Notificaciones</h3>
                  <p>3 mensajes sin leer</p>
                  <p>2 actualizaciones pendientes</p>
                </div>
              </div>
            </div>
          </div>
        }
        @case (1) {
          <!-- Datos personales -->
          <form (ngSubmit)="actualizarDatosUsuario()" class="form">
            <div class="form-group">
              <label for="nombre">Nombre</label>
              <input id="nombre" type="text" name="nombre" [(ngModel)]="user.person.firstName" class="form-control">
            </div>
            <div class="form-group">
              <label for="apellido">Apellido</label>
              <input id="apellido" type="text" name="apellido" [(ngModel)]="user.person.firstLastName" class="form-control">
            </div>
            <div class="form-group">
              <label for="email">Email</label>
              <input id="email" type="email" name="email" [(ngModel)]="user.person.email" class="form-control">
            </div>
            <div class="form-group">
              <label for="telefono">Teléfono</label>
              <input id="telefono" type="tel" name="telefono" [(ngModel)]="user.person.phone" class="form-control">
            </div>
            <button type="submit" class="btn btn-primary">Guardar cambios</button>
          </form>
        }
        @case (2) {
          <!-- Configuración -->
          <div class="settings-section">
            <h3>Preferencias de notificaciones</h3>
            <!-- Agregar configuraciones adicionales aquí -->
          </div>
        }
        @case (3) {
          <!-- Cambiar contraseña -->
          <form (ngSubmit)="actualizarContrasena()" class="form">
            <div class="form-group">
              <label for="contrasenaActual">Contraseña Actual</label>
              <input id="contrasenaActual" type="password" name="contrasenaActual" [(ngModel)]="contrasenaActual" class="form-control">
            </div>
            <div class="form-group">
              <label for="nuevaContrasena">Nueva Contraseña</label>
              <input id="nuevaContrasena" type="password" name="nuevaContrasena" [(ngModel)]="nuevaContrasena" class="form-control">
            </div>
            <div class="form-group">
              <label for="confirmarContrasena">Confirmar Contraseña</label>
              <input id="confirmarContrasena" type="password" name="confirmarContrasena" [(ngModel)]="confirmarContrasena" class="form-control">
            </div>
            <button type="submit" class="btn btn-primary">Actualizar Contraseña</button>
          </form>
        }
      }
    </div>
  </div>
</div>

<mat-card class="assign-review-dialog">
  <mat-card-title>
    <div class="assign-review-dialog__title-container">
      <span><strong>Asignar Revisión de Historia Clínica</strong></span>
      <mat-icon (click)="closeDialog()">close</mat-icon>
    </div>
  </mat-card-title>
</mat-card>

<div class="assign-review-dialog__content">
  @if (professorAreasData) {
    <div class="assign-review-dialog__professor-list" (scroll)="onScroll()">
      @for (item of professorAreasData.content; track $index) {
        <mat-list-item 
          (click)="selectProfessor(item.idProfessorClinicalArea)"
          [class.selected]="professorClinicalAreaId === item.idProfessorClinicalArea"
          class="assign-review-dialog__list-item">
          
          <div class="assign-review-dialog__item-content">
            <p class="assign-review-dialog__item-text">{{ item.professorName }}</p>
            <p class="assign-review-dialog__item-text assign-review-dialog__item-text--right">
              ({{ item.clinicalArea.clinicalArea }})
            </p>
          </div>
        </mat-list-item>
      }
      @if (isLoading) {
        <app-loading/>
      }
    </div>
  }

  @if(data.send && data.treatment?.teeth !== null){
    <mat-form-field class="teeth-multiselect p-4">
      <mat-label>Selecciona órganos dentarios</mat-label>
      <mat-select multiple class="teeth-multiselect" [(ngModel)]="selectedTeeth">
        @for (tooth of data.treatment?.teeth; track $index) {
          <mat-option [value]="tooth.idTooth">{{tooth.idTooth}}</mat-option>
        }
      </mat-select>
    </mat-form-field>
  }
</div>

<mat-dialog-actions align="end">
  <div>
    <button mat-stroked-button mat-dialog-close color="warn">Cancelar</button>
    <button 
      mat-button 
      color="primary"
      (click)="checkSendToReview()"
      [disabled]="!professorClinicalAreaId" class="custom-button">
      Enviar
    </button>
  </div>
</mat-dialog-actions>
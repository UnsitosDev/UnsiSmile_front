
@for (tableKey of getTableKeys(); track tableKey) {
  <mat-card class="table-card">
    <mat-card-header>
      <mat-card-title>{{ tab[tableKey].title }}</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <table class="odontogram-table">
        <thead>
          <tr>
            <th>SIGNO</th>
            @for (column of tab[tableKey].columns; track column) {
              <th>{{ column }}</th>
            }
          </tr>
        </thead>
        <tbody>
          @for (row of tab[tableKey].rows; track row.symbol; let rowIndex = $index) {
            <tr>
              <td>{{ row.symbol }}</td>
              @for (value of row.values; track columnIndex; let columnIndex = $index) {
                <td>
                  <!-- Inputs o checkboxes según el tipo de fila -->
                  @if (row.symbol === 'P. B.' || row.symbol === 'N. I.') {
                    <!-- 3 inputs numéricos -->
                    <input
                      type="text"
                      (input)="onInputChange(tableKey, row, $event, columnIndex, 0)"
                    />
                    <input
                      type="text"
                      (input)="onInputChange(tableKey, row, $event, columnIndex, 1)"
                    />
                    <input
                      type="text"
                      (input)="onInputChange(tableKey, row, $event, columnIndex, 2)"
                    />
                  } @else if (row.symbol === 'M. D.') {
                    <!-- 1 input numérico -->
                    <input
                      type="text"
                      class="full-width-input"
                      (input)="onInputChange(tableKey, row, $event, columnIndex, 0)"
                    />
                  } @else if (row.symbol === 'SANGRA' || row.symbol === 'PLACA' || row.symbol === 'CALCULO') {
                    <!-- 3 checkboxes -->
                    <section class="example-section">
                      <mat-checkbox
                        class="small-checkbox"
                        (change)="onInputChange(tableKey, row, $event, columnIndex, 0)"
                      ></mat-checkbox>
                      <mat-checkbox
                        class="small-checkbox"
                        (change)="onInputChange(tableKey, row, $event, columnIndex, 1)"
                      ></mat-checkbox>
                      <mat-checkbox
                        class="small-checkbox"
                        (change)="onInputChange(tableKey, row, $event, columnIndex, 2)"
                      ></mat-checkbox>
                    </section>
                  }
                </td>
              }
            </tr>
          }
        </tbody>
      </table>
      
    </mat-card-content>
  </mat-card>
}
<div class="custom-textarea">
  <mat-form-field class="example-full-width">
    <mat-label>Observaciones</mat-label>
    <textarea
      matInput
      placeholder="Anotar observaciones ..."
      [(ngModel)]="notes" 
    ></textarea>
  </mat-form-field>
</div>

<div class="button-container">
  <button type="button" mat-button (click)="previousTab()"><i class="fas fa-long-arrow-alt-left"></i> ANTERIOR </button>
  <div>
    <button type="button" mat-button (click)="sendDataPeriodontogram()"> AVANZAR Y GUARDAR <i class="fas fa-save"></i></button>
  </div>
</div>

<!-- <div>
  <canvas
    baseChart
    [type]="lineChartType"
    [data]="lineChartData"
    [options]="lineChartOptions"
  >
  </canvas>
</div>
<img src="assets/Vestibular.png" alt="Vestibular"> -->

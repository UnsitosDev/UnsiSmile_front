@if(!isLoading){ @if (mappedHistoryData) {
<mat-card-title>
  <app-header-history-clinic
    [mappedHistoryData]="mappedHistoryData"
    [idPatientMedicalRecord]="patientMedicalRecord"
    [currentSectionId]="currentSectionId"
    [currentStatus]="currentStatus"
    [currentIndex]="currentIndex"
    [role]="role"
  >
  </app-header-history-clinic>
</mat-card-title>
<mat-card class="custom">
  <mat-tab-group
    [(selectedIndex)]="currentIndex"
    (selectedIndexChange)="currentIndex"
  >
    @for (tab of mappedHistoryData.tabs; track tab) {
    <mat-tab [label]="tab.title">
      @if (tab.isAnswered) {
      <app-tab-form-update
        [readonlyTreatment]="readonlyTreatment"
        [patientMedicalRecord]="patientMedicalRecord"
        [fieldsTab]="tab"
        (nextMatTab)="onNextTab()"
        (previousMatTab)="onPreviousTab()"
      ></app-tab-form-update>
      } @if (!tab.isAnswered) {
      <app-tab-form
        [patientMedicalRecord]="patientMedicalRecord"
        [readonlyTreatment]="readonlyTreatment"
        [fieldsTab]="tab"
        [patientUuid]="patientUuid"
        [id]=2
        (nextMatTab)="onNextTab()"
        (previousMatTab)="onPreviousTab()"
      ></app-tab-form>
      }
    </mat-tab>
    }
  </mat-tab-group>
</mat-card>
} }
